<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Tableau + Spark + Cassandra</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="//victorcouste.github.io/blog/themes/Casper/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//victorcouste.github.io/blog/themes/Casper/assets/css/screen.css?v=1.0.0" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />

    <link rel="canonical" href="https://victorcouste.github.io/blog/2015/11/12/Tableau-Spark-Cassandra.html" />
    
    <meta property="og:site_name" content="Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Tableau + Spark + Cassandra" />
    <meta property="og:description" content="Here is a simple tutorial if you need to do a simple and quick demo on how to use Tableau Software to create dashboards on Cassandra data. The demonstration will go through Spark ODBC driver and so it will demonstrate..." />
    <meta property="og:url" content="https://victorcouste.github.io/blog/2015/11/12/Tableau-Spark-Cassandra.html" />
    <meta property="article:published_time" content="2015-11-11T23:00:00.000Z" />
    <meta property="article:modified_time" content="2015-11-12T15:13:59.451Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Tableau + Spark + Cassandra" />
    <meta name="twitter:description" content="Here is a simple tutorial if you need to do a simple and quick demo on how to use Tableau Software to create dashboards on Cassandra data. The demonstration will go through Spark ODBC driver and so it will demonstrate..." />
    <meta name="twitter:url" content="https://victorcouste.github.io/blog/2015/11/12/Tableau-Spark-Cassandra.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Blog",
    "author": {
        "@type": "Person",
        "name": "Victor Coustenoble",
        "image": "https://avatars.githubusercontent.com/u/7553016?v=3",
        "url": "undefined/author/undefined",
        "sameAs": null
    },
    "headline": "Tableau + Spark + Cassandra",
    "url": "https://victorcouste.github.io/blog/2015/11/12/Tableau-Spark-Cassandra.html",
    "datePublished": "2015-11-11T23:00:00.000Z",
    "dateModified": "2015-11-12T15:13:59.451Z",
    "description": "Here is a simple tutorial if you need to do a simple and quick demo on how to use Tableau Software to create dashboards on Cassandra data. The demonstration will go through Spark ODBC driver and so it will demonstrate..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Blog" href="https://victorcouste.github.io/blog/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
</head>
<body class="post-template">

    


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        <a class="back-button icon-arrow-left" href="https://victorcouste.github.io/blog">Home</a>
        <!-- <a class="subscribe-button icon-feed" href="https://victorcouste.github.io/blog/rss/">Subscribe</a> -->
    </nav>
</header>

<main class="content" role="main">

    <article class="post">

        <header class="post-header">
            <h1 class="post-title">Tableau + Spark + Cassandra</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2015-11-12">12 November 2015</time> 
            </section>
        </header>

        <section class="post-content">
            <div class="paragraph">
<p>Here is a simple tutorial if you need to do a simple and quick demo on how to use Tableau Software to create dashboards on Cassandra data. The demonstration will go through Spark ODBC driver and so it will demonstrate also our Apache Spark integration.
This tutorial will explain all installations and setups ; and will provide data to create such demo step by step.
Step-by-step guide</p>
</div>
<div class="paragraph">
<p>1/ Start a DSE Cassandra node with Spark enable "dse cassandra -k"</p>
</div>
<div class="paragraph">
<p>2/ Start the Spark Thrift JDBC/ODBC server <a href="http://docs.datastax.com/en/datastax_enterprise/4.8/datastax_enterprise/spark/sparkSqlThriftServer.html" class="bare">http://docs.datastax.com/en/datastax_enterprise/4.8/datastax_enterprise/spark/sparkSqlThriftServer.html</a> with the command "dse start-spark-sql-thriftserver". You should see a new SparkCQL application running here <a href="http://127.0.0.1:4040/" class="bare">http://127.0.0.1:4040/</a>  in Spark UI <a href="http://127.0.0.1:7080/" class="bare">http://127.0.0.1:7080/</a></p>
</div>
<div class="paragraph">
<p>3/ Create the 3 demo tables, you can find here all data and the script to create CQL schemas and load tables <a href="https://drive.google.com/drive/u/1/folders/0BwpBQmtj50DFaU5jWTJtM1pleUU" class="bare">https://drive.google.com/drive/u/1/folders/0BwpBQmtj50DFaU5jWTJtM1pleUU</a></p>
</div>
<div class="paragraph">
<p>4/ Get and install the Databricks ODBC driver for S127ere <a href="https://databricks.com/spark/odbc-driver-download" class="bare">https://databricks.com/spark/odbc-driver-download</a> or here <a href="https://academy.datastax.com/downloads/download-drivers" class="bare">https://academy.datastax.com/downloads/download-drivers</a></p>
</div>
<div class="paragraph">
<p>5/ Open Tableau and connect to the Spark server</p>
</div>
<div class="paragraph">
<p>6/ Then you should be able to see all Cassandra keyspaces (Schema in Tableau) and tables
Drag and drop albums and performers tables.
Change the inner join clause with right columns from the 2 tables, Performer from albums table and Name from performers.
! Keep a "Live" connection. Don&#8217;t use "Extract" because all your data will be loaded into Tableau.</p>
</div>
<div class="paragraph">
<p>"Update Now" to see a sample of data returned.</p>
</div>
<div class="paragraph">
<p>7/ Go to the Tableau "Sheet 1" and begin a simple dashboard.
Convert Year column (from albums table) to Discrete type (click at the right of the Year column to do that from a menu).
Add Year (from albums table) as Rows, Gender (from performers table) as Columns and Number of Records as the measure.</p>
</div>
<div class="paragraph">
<p>Finally with "Show Me" option, convert your table into a stacked bars chart.</p>
</div>
<div class="paragraph">
<p>8/ Finally you can check SQL queries generated on the fly by Tableau and pass to SparkSQL from Spark UI <a href="http://192.168.1.22:4040/sql/" class="bare">http://192.168.1.22:4040/sql/</a>  (SQL tab of the SparkSQL UI).
This will show SparkSQL usage and SQL queries executed on top of Cassandra data through the Cassandra/Spark connector.</p>
</div>
<div class="paragraph">
<p>Related articles
Tableau and SparkSQL <a href="http://www.tableau.com/fr-fr/about/blog/2014/10/tableau-spark-sql-big-data-just-got-even-more-supercharged-33799" class="bare">http://www.tableau.com/fr-fr/about/blog/2014/10/tableau-spark-sql-big-data-just-got-even-more-supercharged-33799</a>
Apache Spark Drivers for ODBC and JDBC with SQL Connector <a href="http://www.simba.com/connectors/apache-spark-driver" class="bare">http://www.simba.com/connectors/apache-spark-driver</a></p>
</div>
<div class="paragraph">
<p>Page:
How to create a Tableau Software demo with Spark driver ?
Page:
Spark Streaming with Cassandra - Using the Spark-Cassandra-Connector and Twitter Stream</p>
</div>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="" style="background-image: url(https://avatars.githubusercontent.com/u/7553016?v=3)"><span class="hidden">Victor Coustenoble's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="">Victor Coustenoble</a></h4>

                    <p>Read <a href="">more posts</a> by this author.</p>
                <div class="author-meta">
                    <span class="author-location icon-location">Paris</span>
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=Tableau%20%2B%20Spark%20%2B%20Cassandra&amp;url=https://victorcouste.github.io/blog/2015/11/12/Tableau-Spark-Cassandra.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://victorcouste.github.io/blog/2015/11/12/Tableau-Spark-Cassandra.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://victorcouste.github.io/blog/2015/11/12/Tableau-Spark-Cassandra.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="https://victorcouste.github.io/blog">Blog</a> &copy; 2015</section>
        <section class="poweredby">Proudly published with <a href="http://hubpress.io">HubPress</a></section>
    </footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

    <script type="text/javascript" src="//victorcouste.github.io/blog/themes/Casper/assets/js/jquery.fitvids.js?v=1.0.0"></script>
    <script type="text/javascript" src="//victorcouste.github.io/blog/themes/Casper/assets/js/index.js?v=1.0.0"></script>

</body>
</html>
